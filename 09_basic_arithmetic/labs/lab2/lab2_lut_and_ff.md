# 1. lab2 lut ff and carry4

## 1. LUT (Look-Up Table)

**LUT (таблица соответствий)** — элемент, используемый в ПЛИС (FPGA) для реализации логических функций.

- LUT хранит таблицу истинности внутри памяти.
- На вход подаются биты, LUT возвращает соответствующее значение.
- Пример: LUT на 3 входа может описать любую функцию из 3 переменных (всего 8 строк таблицы).

 Пример LUT-таблицы на 2 входа:

| A | B | F(A,B) |
|---|---|--------|
| 0 | 0 |   1    |
| 0 | 1 |   0    |
| 1 | 0 |   1    |
| 1 | 1 |   1    |

---

## 2. Что такое CARRY4 и зачем он нужен (подробно)

**CARRY4** — это специальный логический элемент (примитив), встроенный в **FPGA** семейства Xilinx (например, Spartan, Artix, Virtex, Zynq), предназначенный для **быстрого выполнения арифметических операций**, таких как **суммирование, вычитание и вычисление переноса (carry)**.

Он называется **CARRY4**, потому что за один раз обрабатывает **4 бита**. Такие примитивы встроены в архитектуру FPGA на низком уровне, и позволяют строить **быстрые каскады** сумматоров с переносами, избегая задержек, возникающих при реализации переноса через обычные логические элементы (LUT).

---

###  Зачем нужен CARRY4?

В цифровой логике, особенно при реализации **арифметических операций**, важен сигнал **переноса** (carry), который передается от одного разряда к следующему.

Например, при сложении:

```
  A: 1 0 1 1
+ B: 0 1 1 1
-----------
     ? ? ? ?
```

Чтобы правильно сложить эти числа, нужно учитывать **перенос из младшего разряда в старший**.

Реализовать это просто с точки зрения логики, но если нужно добиться **максимальной скорости**, FPGA предлагает **оптимизированные блоки** — такие как CARRY4, которые реализуют перенос **внутри себя аппаратно**, минуя обычные LUT.

## 3.  Отчёт по реализации хранения результата с использованием примитивов FDCE, FDPE, FDRE, FDSE

### Общие сведения

Примитивы **FDCE**, **FDPE**, **FDRE** и **FDSE** — это специализированные D-триггеры (flip-flops), используемые в схемах на ПЛИС (FPGA) для синхронного хранения данных. Они отличаются типом асинхронного сигнала управления: сброса (`CLR`) или установки (`PRE`), и их уровнем активации (активный низкий или активный высокий).

Во всех примерах предполагается:

* `C`: синхросигнал (clock),
* `D`: вход данных,
* `Q`: выход триггера,
* `CE`: разрешение записи (Clock Enable),
* `CLR/PRE`: асинхронный сброс или установка.

---

###  1. Примитив FDCE (Flip-Flop with Clock Enable and asynchronous Clear)

```verilog
FDCE my_fdce (
    .Q(out),      // Выход
    .C(clk),      // Такт
    .CE(1'b1),    // Разрешение записи
    .CLR(reset),  // Асинхронный сброс (активный высокий)
    .D(data)      // Вход данных
);
```

####  Особенности:

* **CE** (Clock Enable) — при `1` данные с `D` записываются в `Q` на фронт `clk`.
* **CLR** — асинхронный сброс, при `1` сбрасывает `Q` в `0`, независимо от `clk`.

---

###  2. Примитив FDPE (Flip-Flop with Clock Enable and asynchronous PREset)

```verilog
FDPE my_fdpe (
    .Q(out),      // Выход
    .C(clk),      // Такт
    .CE(1'b1),    // Разрешение записи
    .PRE(set),    // Асинхронная установка (активный высокий)
    .D(data)      // Вход данных
);
```

####  Особенности:

* **CE** — разрешение записи.
* **PRE** — асинхронная установка, при `1` устанавливает `Q = 1`, независимо от `clk`.

---

### 3. Примитив FDRE (Flip-Flop with Clock Enable and synchronous Reset)

```verilog
FDRE my_fdre (
    .Q(out),      // Выход
    .C(clk),      // Такт
    .CE(1'b1),    // Разрешение записи
    .R(reset),    // Синхронный сброс
    .D(data)      // Вход данных
);
```

####  Особенности:

* **R** — синхронный сброс. Если `R = 1`, то `Q = 0` на фронте `clk`, при `CE = 1`.
* **Сброс происходит только на тактовом фронте**, что удобно для упорядоченной логики.

---

###  4. Примитив FDSE (Flip-Flop with Clock Enable and synchronous Set)

```verilog
FDSE my_fdse (
    .Q(out),      // Выход
    .C(clk),      // Такт
    .CE(1'b1),    // Разрешение записи
    .S(set),      // Синхронная установка
    .D(data)      // Вход данных
);
```

####  Особенности:

* **S** — синхронная установка. Если `S = 1`, то `Q = 1` на фронте `clk`, при `CE = 1`.
* Установка выполняется синхронно с тактовым сигналом.

---

###  Заключение

| Примитив | Тип управления | Сброс/Установка | Синхронный/Асинхронный |
| -------- | -------------- | --------------- | ---------------------- |
| FDCE     | CE + CLR       | Сброс           | Асинхронный            |
| FDPE     | CE + PRE       | Установка       | Асинхронный            |
| FDRE     | CE + R         | Сброс           | Синхронный             |
| FDSE     | CE + S         | Установка       | Синхронный             |
